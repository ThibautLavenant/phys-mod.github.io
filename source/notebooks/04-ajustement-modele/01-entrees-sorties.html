
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Entrées-sorties</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Modélisation numérique" href="../../pages/part-modelisation-numerique.html" />
    <link rel="prev" title="Fonctions" href="../03-suites-relations-recurrence/02-fonctions.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/simu_gw.jpg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../pages/part-informations-generales.html">
   Informations générales
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pages/info-pedagogie.html">
     Pédagogie
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pages/info-competences.html">
     Objectifs d’apprentissage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pages/info-deroulement.html">
     Déroulement du cours
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pages/info-evaluation.html">
     Évaluations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pages/info-outils-numeriques.html">
     Outils numériques
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pages/info-licence.html">
     Crédits et licence
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../pages/part-python-base.html">
   Python base
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-python-base/01-prise-en-main.html">
     Première prise en main
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-python-base/02-listes-python.html">
     Les listes Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-python-base/03-fonctions-modules.html">
     Fonctions et modules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-python-base/04-module-numpy.html">
     Le module NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-python-base/05-fonctions-numpy.html">
     Les fonctions de Numpy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-python-base/06-module-matplotlib.html">
     Le module Matplotlib
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../pages/part-python-intermediaire.html">
   Python intermédiaire
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../02-demarche-de-modelisation/01-dictionnaires-pandas.html">
     Dictionnaires et Pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-demarche-de-modelisation/02-logique-filtrage.html">
     Logique, structures de contrôle et filtrage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-suites-relations-recurrence/01-iteration.html">
     Itération
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-suites-relations-recurrence/02-fonctions.html">
     Fonctions
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Entrées-sorties
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../pages/part-modelisation-numerique.html">
   Modélisation numérique
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-demarche-de-modelisation/03-acceleration-constante.html">
     Modèle de l’accélération constante
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-suites-relations-recurrence/03-suite-graphique.html">
     Représentation graphique d’une suite mathématique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02-ajustement-modele.html">
     Ajuster un modèle aux données
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-derivation-integration/01-derivation-integration-cours.html">
     Dérivation et intégration numérique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-equations-differentielles/01-equations-differentielles-cours.html">
     Équations différentielles ordinaires (EDO)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../pages/part-mini-projets.html">
   Mini-projets
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-demarche-de-modelisation/05-retrogradation-mars.html">
     Mouvement rétrograde de Mars
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-suites-relations-recurrence/05-mini-projet-logistique.html">
     Un exemple de système chaotique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-mini-projet-rechauffement-climatique.html">
     Le réchauffement climatique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-derivation-integration/03-mini-projet-digue.html">
     Calcul des forces de pression sur une digue
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-equations-differentielles/03-mini-projet-pendule.html">
     Le pendule
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/source/notebooks/04-ajustement-modele/01-entrees-sorties.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/source/notebooks/04-ajustement-modele/01-entrees-sorties.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#video-lire-et-ecrire">
   <strong>
    Vidéo
   </strong>
   : Lire et écrire
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lire-un-fichier-texte">
   Lire un fichier texte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercice">
     Exercice
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gestionnaire-de-contexte">
   Gestionnaire de contexte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Exercice
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#videos-outils-supplementaires">
   <strong>
    Vidéos
   </strong>
   : Outils supplémentaires
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lire-le-clavier">
   Lire le clavier
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Exercice
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#format-defini">
   Format défini
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lire-et-ecrire-des-tableaux-numpy">
   Lire et écrire des tableaux Numpy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importer-des-donnees-mixtes-avec-pandas">
   Importer des données mixtes avec Pandas
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Entrées-sorties</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#video-lire-et-ecrire">
   <strong>
    Vidéo
   </strong>
   : Lire et écrire
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lire-un-fichier-texte">
   Lire un fichier texte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercice">
     Exercice
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gestionnaire-de-contexte">
   Gestionnaire de contexte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Exercice
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#videos-outils-supplementaires">
   <strong>
    Vidéos
   </strong>
   : Outils supplémentaires
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lire-le-clavier">
   Lire le clavier
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Exercice
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#format-defini">
   Format défini
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lire-et-ecrire-des-tableaux-numpy">
   Lire et écrire des tableaux Numpy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importer-des-donnees-mixtes-avec-pandas">
   Importer des données mixtes avec Pandas
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="entrees-sorties">
<h1>Entrées-sorties<a class="headerlink" href="#entrees-sorties" title="Permalink to this headline">¶</a></h1>
<p>Commencer une ligne avec <code class="docutils literal notranslate"><span class="pre">!</span></code> vous donne accès aux commandes du shell. Par exemple, <code class="docutils literal notranslate"><span class="pre">!</span> <span class="pre">ls</span></code> (pour Linux ou Mac) ou <code class="docutils literal notranslate"><span class="pre">!</span> <span class="pre">dir</span></code> (pour Windows) permet d’afficher les fichiers présents dans votre répertoire de travail :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span> ls
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>01-entrees-sorties.ipynb		       exoplanets-SI.dat
02-ajustement-modele.ipynb		       exoplanets.csv
03-exercices.ipynb			       exoplanets.dat
04-mini-projet-rechauffement-climatique.ipynb  montelimar_temperature.dat
AnoTempe.png				       table_analyse_chute.png
banksy.txt				       test.txt
exo-write.txt				       verne-lune.txt
</pre></div>
</div>
</div>
</div>
<div class="section" id="video-lire-et-ecrire">
<h2><strong>Vidéo</strong>: Lire et écrire<a class="headerlink" href="#video-lire-et-ecrire" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe src="https://sorbonne-universite.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=7bf616ba-4e65-48b6-aa69-adb100bae47a&autoplay=false&offerviewer=true&showtitle=true&showbrand=false&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay"></iframe>
</div></div>
</div>
</div>
<div class="section" id="lire-un-fichier-texte">
<h2>Lire un fichier texte<a class="headerlink" href="#lire-un-fichier-texte" title="Permalink to this headline">¶</a></h2>
<p>Nous avons extrait un passage du livre <em>De la Terre à la Lune, trajet direct en 97 heures 20 minutes</em>, paru en 1865 et écrit par Jules Verne (1828-1905). Il est <a class="reference external" href="https://www.gutenberg.org/ebooks/799">disponible librement</a> sur le site du Projet Gutenberg. Cet extrait est enregistré dans le fichier nommé <em>verne-lune.txt</em>.</p>
<p>Pour pouvoir importer le texte dans Python, il faut d’abord ouvrir le fichier avec la fonction <code class="docutils literal notranslate"><span class="pre">open()</span></code> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ouverture du fichier texte</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;verne-lune.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Nous avons donné à l’argument <code class="docutils literal notranslate"><span class="pre">mode</span></code> la valeur <code class="docutils literal notranslate"><span class="pre">r</span></code> pour ouvrir le fichier seulement en lecture et pas en écriture (<em>read-only</em>). Cela permet d’empêcher toute modification du fichier. Afin de lire tout le fichier, on peut utiliser la méthode <code class="docutils literal notranslate"><span class="pre">.read()</span></code> sur la variable <code class="docutils literal notranslate"><span class="pre">file</span></code> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lecture du fichier</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                  _Longs&#39;s-Peak, 12 décembre._

A MM. LES MEMBRES DU BUREAU DE L&#39;OBSERVATOIRE DE CAMBRIDGE.

_Le projectile lancé par la Columbiad de Stone&#39;s-Hill a été aperçu par
MM. Belfast et J.-T. Maston, le 12 décembre, à huit heures
quarante-sept minutes du soir, la Lune étant entrée dans son dernier
quartier.

Ce projectile n&#39;est point arrivé à son but.  Il a passé à côté, mais
assez près, cependant, pour être retenu par l&#39;attraction lunaire.

Là, son mouvement rectiligne s&#39;est changé en un mouvement circulaire
d&#39;une rapidité vertigineuse, et il a été entraîné suivant une orbite
elliptique autour de la Lune, dont il est devenu le véritable
satellite.

Les éléments de ce nouvel astre n&#39;ont pas encore pu être déterminés.
On ne connaît ni sa vitesse de translation, ni sa vitesse de rotation.
La distance qui le sépare de la surface de la Lune peut être évaluée à
deux mille huit cent trente-trois milles environ (-- 4,500 lieues).

Maintenant, deux hypothèses peuvent se produire et amener une
modification dans l&#39;état des choses:

Ou l&#39;attraction de la Lune finira par l&#39;emporter, et les voyageurs
atteindront le but de leur voyage;

Ou, maintenu dans un ordre immutable, le projectile gravitera autour
du disque lunaire jusqu&#39;à la fin des siècles.

C&#39;est ce que les observations apprendront un jour, mais jusqu&#39;ici la
tentative du Gun-Club n&#39;a eu d&#39;autre résultat que de doter d&#39;un nouvel
astre notre système solaire._

                                                    J.-M. BELFAST.
</pre></div>
</div>
</div>
</div>
<p>Une fois fini, il faut libérer la mémoire en fermant le fichier. On peut vérifier si le fichier est ouvert ou fermé en affichant l’attribut <code class="docutils literal notranslate"><span class="pre">closed</span></code> de l’objet <code class="docutils literal notranslate"><span class="pre">file</span></code> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Vérifie si le fichier est fermé</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">closed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Le fichier n’est pas fermé. On peut le fermer avec la méthode <code class="docutils literal notranslate"><span class="pre">.close()</span></code> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fermeture du fichier</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Vérifie si le fichier est fermé</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">closed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>On peut aussi ne lire qu’une seule ligne avec la méthode <code class="docutils literal notranslate"><span class="pre">.readline()</span></code>. Si on utilise de nouveau cette méthode, alors Python lit la ligne suivante :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ouverture du fichier texte</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;verne-lune.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>

<span class="c1"># Lecture des 3 premières lignes</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>

<span class="c1"># Fermeture du fichier</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                  _Longs&#39;s-Peak, 12 décembre._



A MM. LES MEMBRES DU BUREAU DE L&#39;OBSERVATOIRE DE CAMBRIDGE.
</pre></div>
</div>
</div>
</div>
<div class="section" id="exercice">
<h3>Exercice<a class="headerlink" href="#exercice" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Ouvrir le fichier <em>banksy.txt</em> en lecture seul</p></li>
<li><p>Afficher le fichier</p></li>
<li><p>Fermer le fichier</p></li>
</ol>
<div class="cell tag_solution tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ouverture du fichier texte</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;banksy.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>

<span class="c1"># Lecture du fichier</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

<span class="c1"># Fermeture du fichier</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                        .s$$$Ss.
            .8,         $$$. _. .              ..sS$$$$$&quot;  ...,.;
 o.   ,@..  88        =.$&quot;$&#39;  &#39;          ..sS$$$$$$$$$$$$s. _;&quot;&#39;
  @@@.@@@. .88.   `  ` &quot;&quot;l. .sS$$.._.sS$$$$$$$$$$$$S&#39;&quot;&#39;
   .@@@q@@.8888o.         .s$$$$$$$$$$$$$$$$$$$$$&#39;
     .:`@@@@33333.       .&gt;$$$$$$$$$$$$$$$$$$$$&#39;
     .: `@@@@333&#39;       ..&gt;$$$$$$$$$$$$$$$$$$$&#39;
      :  `@@333.     `.,   s$$$$$$$$$$$$$$$$$&#39;
      :   `@33       $$ S.s$$$$$$$$$$$$$$$$$&#39;
      .S   `Y      ..`  ,&quot;$&#39; `$$$$$$$$$$$$$$
      $s  .       ..S$s,    . .`$$$$$$$$$$$$.
      $s .,      ,s ,$$$$,,sS$s.$$$$$$$$$$$$$.
      / /$$SsS.s. ..s$$$$$$$$$$$$$$$$$$$$$$$$$.
     /`.`$$$$$dN.ssS$$&#39;`$$$$$$$$$$$$$$$$$$$$$$$.
    ///   `$$$$$$$$$&#39;    `$$$$$$$$$$$$$$$$$$$$$$.
   ///|     `S$$S$&#39;       `$$$$$$$$$$$$$$$$$$$$$$.
  / /                      $$$$$$$$$$$$$$$$$$$$$.
                           `$$$$$$$$$$$$$$$$$$$$$s.
                            $$$&quot;&#39;        .?T$$$$$$$
                           .$&#39;        ...      ?$$#\
                           !       -=S$$$$$s
                         .!       -=s$$&#39;  `$=-_      :
                        ,        .$$$&#39;     `$,       .|
                       ,       .$$$&#39;          .        ,
                      ,     ..$$$&#39;
                          .s$$$&#39;                 `s     .
                   .   .s$$$$&#39;                    $s. ..$s
                  .  .s$$$$&#39;                      `$s=s$$$
                    .$$$$&#39;                         ,    $$s
               `   &quot; .$$&#39;                               $$$
               ,   s$$&#39;                              .  $$$s
            ` .s..s$&#39;                                .s ,$$
             .s$$$&#39;                                   &quot;s$$$,
          -   $$$&#39;                                     .$$$$.
        .&quot;  .s$$s                                     .$&#39;,&#39;,$.
        $s.s$$$$S..............   ................    $$....s$s......
         `&quot;&quot;&#39;           `     ```&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;         `&quot;&quot;   ``
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="gestionnaire-de-contexte">
<h2>Gestionnaire de contexte<a class="headerlink" href="#gestionnaire-de-contexte" title="Permalink to this headline">¶</a></h2>
<p>Le flux d’instructions introduit précédemment peut poser problème : si une erreur intervient avant la fermeture du fichier (avec la méthode <code class="docutils literal notranslate"><span class="pre">.close()</span></code>), celui-ci ne sera pas fermé et des données pourraient être perdues.</p>
<p>La meilleure manière de faire est d’utiliser un <strong>gestionnaire de contexte</strong>, que l’on utilise avec l’instruction <code class="docutils literal notranslate"><span class="pre">with</span></code> de la façon suivante :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ouverture et lecture du fichier avec un gestionnaire de contexte</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;verne-lune.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                  _Longs&#39;s-Peak, 12 décembre._
</pre></div>
</div>
</div>
</div>
<p>La fermeture du fichier est alors implicite. On peut aussi écrire dans un fichier avec la méthode <code class="docutils literal notranslate"><span class="pre">.write()</span></code>. Pour cela, il faut ouvrir le fichier avec le mode <code class="docutils literal notranslate"><span class="pre">'w'</span></code> (<em>write</em>) :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ouverture et écriture dans un fichier avec un gestionnaire de contexte</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Je sais écrire dans un fichier !</span><span class="se">\n</span><span class="s1">Super !&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Le caractère spécial <code class="docutils literal notranslate"><span class="pre">\n</span></code> dans la chaîne de caractères permet le retour à la ligne.</p>
<p>Il existe de nombreux <a class="reference external" href="https://docs.python.org/fr/3/library/functions.html#open">modes d’ouverture d’un fichier</a>, les principaux étant :</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Caractère</p></th>
<th class="head"><p>Signification</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'r'</span></code></p></td>
<td><p>ouvre en lecture (par défaut)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'w'</span></code></p></td>
<td><p>ouvre en écriture, tronquant le fichier</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'x'</span></code></p></td>
<td><p>ouvre pour une création exclusive, échouant si le fichier existe déjà</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'a'</span></code></p></td>
<td><p>ouvre en écriture, ajoutant à la fin du fichier s’il existe</p></td>
</tr>
</tbody>
</table>
<div class="section" id="id1">
<h3>Exercice<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>En utilisant un gestionnaire de contexte et une boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> :</p>
<ol class="simple">
<li><p>Afficher la ligne 13 du fichier <em>verne-lune.txt</em>. Pour cela il faut exécuter 12 fois la méthode <code class="docutils literal notranslate"><span class="pre">.readline()</span></code> sans <code class="docutils literal notranslate"><span class="pre">print()</span></code>, puis une treizième fois avec <code class="docutils literal notranslate"><span class="pre">print()</span></code></p></li>
<li><p>Créez un fichier nommé <em>exo-write.txt</em> dans lequel vous écrirez tous les entiers entre 1 et 100 (avec un entier par ligne)</p></li>
</ol>
<div class="cell tag_solution tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Ouverture et lecture du fichier avec un gestionnaire de contexte</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;verne-lune.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
        <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Là, son mouvement rectiligne s&#39;est changé en un mouvement circulaire
</pre></div>
</div>
</div>
</div>
<div class="cell tag_solution tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2. Ouverture et écriture dans un fichier avec un gestionnaire de contexte</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;exo-write.txt&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">):</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="videos-outils-supplementaires">
<h2><strong>Vidéos</strong>: Outils supplémentaires<a class="headerlink" href="#videos-outils-supplementaires" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe src="https://sorbonne-universite.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=d0b75135-d38b-4641-98c2-adb100baec9f&autoplay=false&offerviewer=true&showtitle=true&showbrand=false&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay"></iframe>
</div></div>
</div>
</div>
<div class="section" id="lire-le-clavier">
<h2>Lire le clavier<a class="headerlink" href="#lire-le-clavier" title="Permalink to this headline">¶</a></h2>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">input()</span></code> lit tout ce qui est écrit au clavier comme une chaîne de caractères :</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lire ce qui est écrit au clavier (finir avec la touche entrée)</span>
<span class="n">chaine</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Entrez votre message avec input:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Afficher ce qui a été écrit</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vous avez entré :&quot;</span><span class="p">,</span> <span class="n">chaine</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">chaine</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_1915</span><span class="o">/</span><span class="mf">3091997120.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Lire ce qui est écrit au clavier (finir avec la touche entrée)</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">chaine</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Entrez votre message avec input:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> 
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># Afficher ce qui a été écrit</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vous avez entré :&quot;</span><span class="p">,</span> <span class="n">chaine</span><span class="p">)</span>

<span class="nn">/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">   </span><span class="mi">1002</span>         <span class="s2">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1003</span><span class="s2">         if not self._allow_stdin:</span>
<span class="ne">-&gt; </span><span class="mi">1004</span><span class="s2">             raise StdinNotImplementedError(</span>
<span class="g g-Whitespace">   </span><span class="mi">1005</span><span class="s2">                 &quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1006</span><span class="s2">             )</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h3>Exercice<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Avec la fonction <code class="docutils literal notranslate"><span class="pre">input()</span></code>, demander à l’utilisateur d’entrer un entier au clavier et affecter la valeur à une variable <code class="docutils literal notranslate"><span class="pre">sn</span></code></p></li>
<li><p>Convertir la variable <code class="docutils literal notranslate"><span class="pre">sn</span></code> en entier avec la fonction <code class="docutils literal notranslate"><span class="pre">int()</span></code>, et affecter la valeur à une variable <code class="docutils literal notranslate"><span class="pre">n</span></code></p></li>
<li><p>Afficher le carré de <code class="docutils literal notranslate"><span class="pre">n</span></code> à l’écran</p></li>
</ol>
<div class="cell tag_solution tag_hide-input tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Entrée au clavier</span>
<span class="n">sn</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Entrer un entier :</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Conversion en entier</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sn</span><span class="p">)</span>

<span class="c1"># Afficher le carré de n</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_1915</span><span class="o">/</span><span class="mf">1662512968.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Entrée au clavier</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">sn</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Entrer un entier :</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> 
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># Conversion en entier</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sn</span><span class="p">)</span>

<span class="nn">/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">   </span><span class="mi">1002</span>         <span class="s2">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1003</span><span class="s2">         if not self._allow_stdin:</span>
<span class="ne">-&gt; </span><span class="mi">1004</span><span class="s2">             raise StdinNotImplementedError(</span>
<span class="g g-Whitespace">   </span><span class="mi">1005</span><span class="s2">                 &quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1006</span><span class="s2">             )</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="format-defini">
<h2>Format défini<a class="headerlink" href="#format-defini" title="Permalink to this headline">¶</a></h2>
<p>Dans l’exemple suivant nous affichons les valeurs des variables <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">n</span></code> avec un format défini. La syntaxe est similaire à celle d’autres langages comme Matlab ou C :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Création des variables</span>
<span class="n">x</span> <span class="o">=</span> <span class="mf">45.9876</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">6</span>

<span class="c1"># Affichage avec un format défini</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = </span><span class="si">%5.3f</span><span class="s1">, n = </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = </span><span class="si">%5.3e</span><span class="s1">, n = </span><span class="si">%5d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x = 45.988, n = 6
x = 4.599e+01, n =     6
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">%5d</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span></code> est le nombre de caractères imprimés, y compris les espaces blancs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code> indique un entier</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">%5.3f</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">5</span></code> est le nombre total de caractères imprimés, y compris le signe - si le chiffre est négatif, ou tout autre caractère. Cependant le nombre de caractères imprimés sera supérieur à ce chiffre si il est trop petit pour pouvoir atteindre la pécision requise dans l’affichage : dans l’exemple donné, le nombre total de caractères imprimés est 6</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> est le nombre de chiffres après le point décimal (6 par défaut)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code> donne le type, ici le format fixe pour un réel</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">%5.3e</span></code></p>
<ul class="simple">
<li><p>la seule différence est <code class="docutils literal notranslate"><span class="pre">e</span></code> qui donne le type d’affichage exponentiel</p></li>
</ul>
<p>Une syntaxe alternative a été introduite depuis Python 2.6 avec la méthode <code class="docutils literal notranslate"><span class="pre">.format()</span></code> des chaînes de caractères :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = </span><span class="si">{:f}</span><span class="s1">, n = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = </span><span class="si">{:8.3f}</span><span class="s1">, n = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x = 45.987600, n = 6
x =   45.988, n = 6
</pre></div>
</div>
</div>
</div>
<p>Un bon endroit pour découvrir toutes les possibilités offertes par le formatage en Python, dans les deux styles d’écriture, est le <a class="reference external" href="https://pyformat.info">site pyformat</a>.</p>
</div>
<div class="section" id="lire-et-ecrire-des-tableaux-numpy">
<h2>Lire et écrire des tableaux Numpy<a class="headerlink" href="#lire-et-ecrire-des-tableaux-numpy" title="Permalink to this headline">¶</a></h2>
<p>Pour importer les données d’un fichier texte dans un tableau Numpy on peut utiliser la fonction <code class="docutils literal notranslate"><span class="pre">loadtxt()</span></code>. Chaque ligne du fichier doit avoir le même nombre de valeurs. Par défaut les lignes commençant par # ne sont pas lues. Elles sont généralement utilisées pour décrire les données dans l’en-tête du fichier.</p>
<p>Nous disposons d’un fichier <em>exoplanets.dat</em> qui décrit les caractéristiques de 256 <a class="reference external" href="https://fr.wikipedia.org/wiki/Exoplan%C3%A8te">exoplanètes</a>. Ces données sont tirées du site internet <a class="reference external" href="http://exoplanets.org">exoplanets.org</a>. Chaque ligne du fichier caractérise une exoplanète et l’étoile autour de laquelle elle gravite. Les quatre colonnes donnent :</p>
<ol class="simple">
<li><p>le demi-grand axe de l’orbite parcourue par la planète en <a class="reference external" href="https://fr.wikipedia.org/wiki/Unit%C3%A9_astronomique">unités astronomiques</a> ;</p></li>
<li><p>la période orbitale en jours ;</p></li>
<li><p>la masse de la planète en unités de masse de Jupiter ;</p></li>
<li><p>la masse de l’étoile autour de laquelle la planète gravite en unités de masse solaire.</p></li>
</ol>
<p>Importons les données dans la variable <code class="docutils literal notranslate"><span class="pre">data</span></code> grâce à la fonction <code class="docutils literal notranslate"><span class="pre">loadtxt()</span></code> de Numpy :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importation du module numpy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Importation des données</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;exoplanets.dat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Nous vérifions que <code class="docutils literal notranslate"><span class="pre">data</span></code> est bien un tableau Numpy de forme (256, 4) :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;numpy.ndarray&#39;&gt;
(256, 4)
</pre></div>
</div>
</div>
</div>
<p>Plutôt que de créer un tableau 2D, il est possible de créer 4 tableaux 1D contenant les données de chaque colonne directement avec l’argument <code class="docutils literal notranslate"><span class="pre">unpack</span></code> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">mp</span><span class="p">,</span> <span class="n">me</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;exoplanets.dat&#39;</span><span class="p">,</span> <span class="n">unpack</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Nous voulons changer les unités des données en <a class="reference external" href="https://fr.wikipedia.org/wiki/Syst%C3%A8me_international_d%27unit%C3%A9s">unités S.I.</a> et sauvegarder les nouvelles données dans un nouveau fichier. D’abord, changeons les unités :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set constants</span>
<span class="n">au2m</span> <span class="o">=</span> <span class="mf">149597870700.</span> <span class="c1"># Conversion from astronomical units to m</span>
<span class="n">day2seconds</span> <span class="o">=</span> <span class="mf">24.</span> <span class="o">*</span> <span class="mf">60.</span> <span class="o">*</span> <span class="mf">60.</span> <span class="c1"># Conversion from day to seconds</span>
<span class="n">M_jupiter</span> <span class="o">=</span> <span class="mf">1.898e27</span> <span class="c1"># Jupiter mass in kg</span>
<span class="n">M_sun</span> <span class="o">=</span> <span class="mf">1.9891e30</span> <span class="c1"># Solar mass in kg</span>

<span class="c1"># Change units to SI</span>
<span class="n">a_SI</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">au2m</span>
<span class="n">p_SI</span> <span class="o">=</span> <span class="n">p</span> <span class="o">*</span> <span class="n">day2seconds</span>
<span class="n">mp_SI</span> <span class="o">=</span> <span class="n">mp</span> <span class="o">*</span> <span class="n">M_jupiter</span>
<span class="n">me_SI</span> <span class="o">=</span> <span class="n">me</span> <span class="o">*</span> <span class="n">M_sun</span>
</pre></div>
</div>
</div>
</div>
<p>On peut ensuite sauvegarder les nouvelles données dans le fichier <em>exoplanets-SI.dat</em> avec la fonction Numpy <code class="docutils literal notranslate"><span class="pre">savetxt()</span></code> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s1">&#39;exoplanets-SI.dat&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">a_SI</span><span class="p">,</span> <span class="n">p_SI</span><span class="p">,</span> <span class="n">mp_SI</span><span class="p">,</span> <span class="n">me_SI</span><span class="p">],</span> <span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%10.3e</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>On a utilisé la commande Numpy <code class="docutils literal notranslate"><span class="pre">c_[]</span></code> pour concaténer en colonnes les tableaux 1D. L’argument <code class="docutils literal notranslate"><span class="pre">fmt</span></code> permet de spécifier le format d’écriture, avec la même syntaxe vue plus haut pour <code class="docutils literal notranslate"><span class="pre">print</span></code>.</p>
</div>
<div class="section" id="importer-des-donnees-mixtes-avec-pandas">
<h2>Importer des données mixtes avec Pandas<a class="headerlink" href="#importer-des-donnees-mixtes-avec-pandas" title="Permalink to this headline">¶</a></h2>
<p>Il arrive souvent que les données à importer soient de types différents. Il n’est pas très pratique de les importer avec Numpy. On peut alors utiliser le module Pandas. Nous avons sauvegardé un fichier plus complet contenant les informations de 3236 exoplanètes, sous la forme d’un fichier csv. La signification des différentes colonnes est expliquée sur le site <a class="reference external" href="http://exoplanets.org/table">exoplanets.org</a>. Ces colonnes contiennent à la fois des données numériques et du texte. On ne peut pas utiliser la fonction <code class="docutils literal notranslate"><span class="pre">loadtxt()</span></code>.</p>
<p>Comme expliqué dans le module <em>Dictionnaires et Pandas</em>, on utilise la fonction <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> pour importer et créer un DataFrame :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importer le module pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Importer les données dans un DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;exoplanets.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Nous vérifions que les données ont bien été importées :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Affichage des 3 premières lignes</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>MSINI</th>
      <th>A</th>
      <th>PER</th>
      <th>ECC</th>
      <th>OM</th>
      <th>T0</th>
      <th>K</th>
      <th>ORBREF</th>
      <th>ORBURL</th>
      <th>FIRSTREF</th>
      <th>FIRSTURL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Kepler-107 d</td>
      <td>NaN</td>
      <td>0.078010</td>
      <td>7.958203</td>
      <td>NaN</td>
      <td>90.0</td>
      <td>2.454971e+06</td>
      <td>NaN</td>
      <td>Rowe 2014</td>
      <td>http://adsabs.harvard.edu/abs/2014arXiv1402.6534R</td>
      <td>Rowe 2014</td>
      <td>http://adsabs.harvard.edu/abs/2014arXiv1402.6534R</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Kepler-1049 b</td>
      <td>NaN</td>
      <td>0.034472</td>
      <td>3.273461</td>
      <td>0.0</td>
      <td>90.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Morton 2016</td>
      <td>http://adsabs.harvard.edu/abs/2016ApJ...822...86M</td>
      <td>Morton 2016</td>
      <td>http://adsabs.harvard.edu/abs/2016ApJ...822...86M</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Kepler-813 b</td>
      <td>NaN</td>
      <td>0.137610</td>
      <td>19.129473</td>
      <td>0.0</td>
      <td>90.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Morton 2016</td>
      <td>http://adsabs.harvard.edu/abs/2016ApJ...822...86M</td>
      <td>Morton 2016</td>
      <td>http://adsabs.harvard.edu/abs/2016ApJ...822...86M</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>On voit que les données manquantes ont été remplacées par NaN (<a class="reference external" href="https://fr.wikipedia.org/wiki/NaN">Not-a-Number</a>).</p>
<p>On peut maintenant utiliser ces données, par exemple pour savoir combien de planètes ont été reportées pour la première fois dans la référence <em>Morton 2016</em> :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Nombre de planètes dans Morton 2016</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;FIRSTREF&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Morton 2016&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1283
</pre></div>
</div>
</div>
</div>
<p>Remarquez que dans cette commande on a sommé les éléments d’un objet Series contenant des booléens. Dans ce cas, la valeur <code class="docutils literal notranslate"><span class="pre">True</span></code> est considérée comme un <code class="docutils literal notranslate"><span class="pre">1</span></code>, et la valeur <code class="docutils literal notranslate"><span class="pre">False</span></code> comme un <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./source/notebooks/04-ajustement-modele"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../03-suites-relations-recurrence/02-fonctions.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Fonctions</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../pages/part-modelisation-numerique.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Modélisation numérique</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By P. Delva<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>